<script>
const text = {
  es: {
    back: "â† Volver a la pÃ¡gina principal",
    title: "Solicitud de reembolso",
    desc: "Lamentamos que quieras solicitar un reembolso. Por favor, completa los datos a continuaciÃ³n para que podamos procesarlo rÃ¡pidamente.",
    name: "Nombre completo",
    email: "Correo electrÃ³nico",
    phone: "TelÃ©fono (opcional)",
    reason: "Motivo del reembolso",
    reasonDefault: "Selecciona un motivo",
    details: "Describe brevemente el motivo",
    submit: "Enviar solicitud de reembolso",
    note: "Nuestro equipo revisarÃ¡ tu solicitud y se pondrÃ¡ en contacto contigo lo antes posible.",
    placeholderName: "Ej. MarÃ­a PÃ©rez",
    placeholderEmail: "ejemplo@correo.com",
    placeholderDetails: "CuÃ©ntanos brevemente el motivo de tu solicitud...",
    backURL: "https://vcbemcomseucorpo.site/home-acesso-cancion-latam/"
  },
  en: {
    back: "â† Back to homepage",
    title: "Refund Request",
    desc: "We're sorry to hear you want a refund. Please fill out the information below so we can process it quickly.",
    name: "Full Name",
    email: "Email",
    phone: "Phone (optional)",
    reason: "Refund Reason",
    reasonDefault: "Select a reason",
    details: "Briefly describe the reason",
    submit: "Submit Refund Request",
    note: "Our team will review your request and contact you as soon as possible.",
    placeholderName: "e.g. Maria Perez",
    placeholderEmail: "example@email.com",
    placeholderDetails: "Tell us briefly the reason for your request...",
    backURL: "https://vcbemcomseucorpo.site/home-acc-song-in/"
  }
};

function switchLanguage(lang) {
  const t = text[lang];
  document.getElementById("backLink").textContent = t.back;
  document.getElementById("backLink").href = t.backURL;
  document.getElementById("title").textContent = t.title;
  document.getElementById("desc").textContent = t.desc;
  document.getElementById("nameLabel").textContent = t.name;
  document.getElementById("emailLabel").textContent = t.email;
  document.getElementById("phoneLabel").textContent = t.phone;
  document.getElementById("reasonLabel").textContent = t.reason;
  document.getElementById("detailsLabel").textContent = t.details;
  document.getElementById("submitBtn").textContent = t.submit;
  document.getElementById("note").textContent = t.note;
  document.getElementById("name").placeholder = t.placeholderName;
  document.getElementById("email").placeholder = t.placeholderEmail;
  document.getElementById("details").placeholder = t.placeholderDetails;
  document.getElementById("reason").options[0].textContent = t.reasonDefault;
}

document.getElementById("langSwitcher").addEventListener("change", e => {
  switchLanguage(e.target.value);
});

const browserLang = navigator.language.startsWith("en") ? "en" : "es";
document.getElementById("langSwitcher").value = browserLang;
switchLanguage(browserLang);

function handleSubmit(e) {
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const reason = document.getElementById('reason').value;
  const details = document.getElementById('details').value.trim();

  const subject = 'Refund Request - ' + name;
  const body = 
    'Name: ' + name + '\n' +
    'Email: ' + email + '\n' +
    'Phone: ' + (phone || 'Not provided') + '\n' +
    'Reason: ' + reason + '\n\n' +
    'Details:\n' + (details || '(no details)');

  // ðŸ‘‰ Troquei o e-mail aqui:
  const mailto = 
    'mailto:danagapreto@gmail.com?subject=' + encodeURIComponent(subject) +
    '&body=' + encodeURIComponent(body);

  window.location.href = mailto;
  alert('Tu aplicaciÃ³n de correo se abrirÃ¡ para enviar la solicitud.');
  return false;
}
</script>
