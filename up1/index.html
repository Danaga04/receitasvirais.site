<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloaker Page</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }
    
    /* Esconder ambos os conteúdos inicialmente */
    #mobile-content, #desktop-content {
      display: none;
    }
    
    /* Estilos para mobile */
    .mobile-btn-aceitar {
      display: inline-block;
      padding: 20px 40px;
      margin: 20px 10px;
      text-decoration: none;
      border-radius: 12px;
      font-weight: bold;
      font-size: 18px;
      text-align: center;
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      color: white;
      border: none;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      animation: pulse 2s infinite;
      box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
      min-width: 280px;
    }
    
    .mobile-btn-aceitar:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 35px rgba(40, 167, 69, 0.6);
    }
    
    @keyframes pulse {
      0% {
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
      }
      50% {
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.8), 0 0 0 15px rgba(40, 167, 69, 0.1);
        transform: scale(1.02);
      }
      100% {
        box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
      }
    }
    
    .mobile-link-recusar {
      display: inline-block;
      margin: 15px 10px;
      color: #666;
      font-size: 14px;
      text-decoration: underline;
      cursor: pointer;
      transition: color 0.3s ease;
      line-height: 1.4;
      max-width: 300px;
      text-align: center;
    }
    
    .mobile-link-recusar:hover {
      color: #333;
      text-decoration: none;
    }

    /* Estilos para desktop */
    * {
      box-sizing: border-box;
    }

    .desktop-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      margin-top: 20px;
      margin-bottom: 20px;
      border-radius: 15px;
    }

    .desktop-header {
      text-align: center;
      padding: 30px 0;
      border-bottom: 2px solid #e8f4f8;
      margin-bottom: 30px;
    }

    .desktop-header h1 {
      color: #2c5530;
      font-size: 2.2rem;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .subtitle {
      color: #666;
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .content-section {
      margin-bottom: 25px;
    }

    .content-section h2 {
      color: #2c5530;
      font-size: 1.4rem;
      margin-bottom: 15px;
      border-left: 4px solid #4a7c59;
      padding-left: 15px;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .feature-item {
      background: #f8fffe;
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid #4a7c59;
      transition: transform 0.3s ease;
    }

    .feature-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .feature-item h3 {
      color: #2c5530;
      font-size: 1.1rem;
      margin-bottom: 8px;
    }

    .feature-item p {
      color: #666;
      font-size: 0.95rem;
    }

    .price-section {
      background: linear-gradient(135deg, #4a7c59 0%, #2c5530 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      margin: 30px 0;
    }

    .price-section h3 {
      font-size: 1.3rem;
      margin-bottom: 15px;
    }

    .original-price {
      text-decoration: line-through;
      color: #ccc;
      font-size: 1.1rem;
    }

    .current-price {
      font-size: 2rem;
      font-weight: bold;
      color: #a8e6cf;
      margin: 10px 0;
    }

    .buttons-container {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin: 30px 0;
      flex-wrap: wrap;
    }

    .desktop-btn {
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      transition: all 0.3s ease;
      min-width: 200px;
    }

    .desktop-btn.btn-accept {
      background: linear-gradient(135deg, #4a7c59 0%, #2c5530 100%);
      color: white;
    }

    .desktop-btn.btn-accept:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(74, 124, 89, 0.3);
    }

    .desktop-btn.btn-decline {
      background: #f8f9fa;
      color: #666;
      border: 2px solid #dee2e6;
    }

    .desktop-btn.btn-decline:hover {
      background: #e9ecef;
      border-color: #adb5bd;
    }

    .disclaimer {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 8px;
      padding: 15px;
      margin: 25px 0;
      font-size: 0.9rem;
      color: #856404;
    }

    /* Estilos globais para desktop */
    #desktop-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
    }

    @media (max-width: 768px) {
      .desktop-container {
        margin: 10px;
        padding: 15px;
      }

      .desktop-header h1 {
        font-size: 1.8rem;
      }

      .buttons-container {
        flex-direction: column;
        align-items: center;
      }

      .desktop-btn {
        min-width: 100%;
      }
    }
  </style>
  <script>
    // Variável global para travar a decisão inicial
    let contentTypeDecided = false;
    let isRealMobileDevice = false;
    
    function isRealMobile() {
      // VERIFICAÇÕES ULTRA-RIGOROSAS
      
      // 1. Detectar resolução real da tela (não viewport)
      const realScreenWidth = screen.width;
      const realScreenHeight = screen.height;
      const isDesktopScreen = realScreenWidth >= 1366 || realScreenHeight >= 768;
      
      // 2. Verificar User Agent SEM confiar apenas nele
      const userAgent = navigator.userAgent.toLowerCase();
      const mobileUA = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
      
      // 3. Detectar se está no DevTools/Emulador
      const viewportWidth = window.innerWidth;
      const viewportHeight = window.innerHeight;
      const screenWidth = screen.width;
      const screenHeight = screen.height;
      
      // Se viewport é muito diferente da tela real = emulador
      const isEmulator = Math.abs(viewportWidth - screenWidth) > 50 || 
                        Math.abs(viewportHeight - screenHeight) > 100;
      
      // 4. Verificar propriedades específicas REAIS de mobile
      const hasTouchScreen = ('ontouchstart' in window) && (navigator.maxTouchPoints > 0);
      const hasOrientationAPI = ('orientation' in window) && ('onorientationchange' in window);
      const hasMotionAPI = ('DeviceMotionEvent' in window) && ('DeviceOrientationEvent' in window);
      
      // 5. Verificar ratio da tela (mobiles têm ratio específico)
      const screenRatio = Math.max(realScreenWidth, realScreenHeight) / Math.min(realScreenWidth, realScreenHeight);
      const isMobileRatio = screenRatio >= 1.5 && screenRatio <= 2.5;
      
      // 6. Detectar mouse (mobile real não tem)
      const hasMouseCapability = matchMedia('(any-hover: hover)').matches;
      
      // 7. Verificar pixel density (mobiles têm alta densidade)
      const pixelRatio = window.devicePixelRatio;
      const hasHighDPI = pixelRatio >= 1.5;
      
      // 8. Detectar se é Chrome Desktop simulando
      const isChromeDesktop = userAgent.includes('chrome') && 
                             userAgent.includes('windows|macintosh|linux') && 
                             !userAgent.includes('mobile');
      
      // 9. Verificar largura máxima disponível (desktops têm muito espaço)
      const maxAvailableWidth = screen.availWidth;
      const isTooWideForMobile = maxAvailableWidth > 1024;
      
      // SISTEMA DE PONTUAÇÃO ULTRA-RIGOROSO
      let mobileScore = 0;
      let desktopPenalty = 0;
      
      // Pontos positivos (indica mobile real)
      if (mobileUA && !isEmulator) mobileScore += 3;
      if (hasTouchScreen && !hasMouseCapability) mobileScore += 4;
      if (hasOrientationAPI) mobileScore += 3;
      if (hasMotionAPI) mobileScore += 2;
      if (isMobileRatio) mobileScore += 3;
      if (hasHighDPI && realScreenWidth <= 414) mobileScore += 2;
      if (realScreenWidth <= 768 && realScreenHeight <= 1024) mobileScore += 3;
      
      // Penalidades PESADAS (indica desktop/emulador)
      if (isDesktopScreen) desktopPenalty += 8;
      if (isEmulator) desktopPenalty += 6;
      if (hasMouseCapability) desktopPenalty += 4;
      if (isChromeDesktop) desktopPenalty += 5;
      if (isTooWideForMobile) desktopPenalty += 6;
      if (navigator.plugins && navigator.plugins.length > 3) desktopPenalty += 3;
      if (!hasTouchScreen) desktopPenalty += 4;
      if (!hasOrientationAPI) desktopPenalty += 2;
      
      // Cálculo final: deve ter alta pontuação mobile E baixa penalidade desktop
      const finalScore = mobileScore - desktopPenalty;
      
      // MUITO rigoroso: precisa de pelo menos 12 pontos líquidos
      return finalScore >= 12;
    }
    
    function forceDesktopView() {
      document.getElementById("desktop-content").style.display = "block";
      document.getElementById("mobile-content").style.display = "none";
      contentTypeDecided = true;
      isRealMobileDevice = false;
    }
    
    function forceMobileView() {
      document.getElementById("mobile-content").style.display = "block";
      document.getElementById("desktop-content").style.display = "none";
      contentTypeDecided = true;
      isRealMobileDevice = true;
    }
    
    function showContent() {
      // Se já decidiu, não muda mais (TRAVA A DECISÃO)
      if (contentTypeDecided) {
        return;
      }
      
      // Faz a verificação rigorosa UMA VEZ só
      if (isRealMobile()) {
        forceMobileView();
      } else {
        forceDesktopView();
      }
    }
    
    // Detecta DevTools sendo aberto APÓS a decisão inicial
    function detectDevToolsAfterLoad() {
      const threshold = 160;
      const isDevToolsOpen = (window.outerHeight - window.innerHeight > threshold) ||
                            (window.outerWidth - window.innerWidth > threshold);
      
      if (isDevToolsOpen && isRealMobileDevice) {
        // Se DevTools for aberto E estava mostrando mobile = BURLANDO
        forceDesktopView();
        console.log("Desktop mode enforced due to dev tools detection");
      }
    }
    
    // Executa APENAS quando a página carrega (decisão única)
    window.addEventListener('load', () => {
      showContent();
      
      // Monitora abertura de DevTools DEPOIS que decidiu
      setInterval(detectDevToolsAfterLoad, 1000);
    });
    
    // REMOVE todos os eventos de resize que estavam causando o problema
    // Agora resize/scroll NÃO afeta mais a decisão
    
    // Proteções extras mantidas
    if (typeof console !== 'undefined') {
      setInterval(() => {
        console.clear();
      }, 5000);
    }
    
    // Bloqueia teclas de debug
    document.addEventListener('keydown', (e) => {
      if (e.keyCode === 123 || 
          (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||
          (e.ctrlKey && e.keyCode === 85) ||
          (e.ctrlKey && e.shiftKey && e.keyCode === 67)) {
        e.preventDefault();
        return false;
      }
    });
    
    // Bloqueia right-click
    document.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      return false;
    });
    
    // Detecta tentativa de manipular viewport via JavaScript
    let originalInnerWidth = window.innerWidth;
    let originalInnerHeight = window.innerHeight;
    
    setInterval(() => {
      if (Math.abs(window.innerWidth - originalInnerWidth) > 100 || 
          Math.abs(window.innerHeight - originalInnerHeight) > 100) {
        if (isRealMobileDevice) {
          // Grande mudança de viewport em "mobile" = suspeito
          forceDesktopView();
        }
      }
    }, 2000);
  </script>
</head>
<body>

<!-- CONTEÚDO PARA MOBILE -->
<div id="mobile-content">
  <div class="top-banner" style="background:red;color:white;font-weight:bold;padding:10px;font-size:16px;text-align:center;">
    NO ABANDONES ESTA PAGINA, PUEDE CAUSAR UN ERROR EN TU COMPRA! SU ACCESO SERÁ LIBERADO DESPUÉS DE LOS PASOS.
  </div>
  <div style="padding:40px 20px;max-width:600px;margin:0 auto;text-align:center">
    <img src="https://i.postimg.cc/s2hWrVKw/What-Spy-Logo-PNG-WEBP.webp" alt="SPYY APP" style="max-width:200px;">
    <h2>FELICIDADES!!</h2>
    <h3>Casi accediendo a mensajes</h3>
    <div style="background:#eee;border-radius:10px;height:15px;width:100%;margin:10px auto;">
      <div style="background:#1fa61f;height:15px;width:20%;border-radius:10px;"></div>
    </div>
    <p><strong>¡Tu lugar para usar WhatSpy está garantizado!</strong></p>
    <p><strong>Para liberar copias de seguridad de la aplicación y garantizar el acceso completo, debe pagar una pequeña tarifa de servidor y seguridad de solo</strong></p>
    <div style="font-size:28px;color:#1fa61f;font-weight:bold;border:2px solid #1fa61f;border-radius:10px;display:inline-block;padding:5px 20px;margin:20px 0;">
      $ 7,94
    </div>
    
    <div style="margin: 30px 0; text-align: center;">
      <a href="https://boasalud.mycartpanda.com/ex-ocu/next-offer/69YNaedVX7?accepted=yes" class="mobile-btn-aceitar">
        🚀 PAGAR TAXA Y ACCEDER APP
      </a>
      <br><br>
      <a href="https://boasalud.mycartpanda.com/ex-ocu/next-offer/69YNaedVX7?accepted=no" class="mobile-link-recusar">
        Rechazar taxa y correr el riesgo de no funcionar en ambos celulares y tener que tal vez pagar taxas más caras después
      </a>
    </div>

    <p style="font-size:14px;color:#555;margin-top:20px;">
      Si intentaste comprar y por algún motivo falló, por favor inténtalo de nuevo al menos 3 veces más para que nuestro sistema cambie automáticamente de proveedor y funcione correctamente. ¡Gracias!
    </p>
  </div>
</div>

<!-- CONTEÚDO PARA DESKTOP -->
<div id="desktop-content">
    <div class="desktop-container">
        <div class="desktop-header">
            <h1>🌿 Guía Avanzada de Desparasitación Natural</h1>
            <p class="subtitle">Profundiza en los conocimientos ancestrales latinoamericanos sobre plantas medicinales y protocolos tradicionales</p>
        </div>

        <div class="content-section">
            <h2>¿Te Gustaría Acceder a Información Más Especializada?</h2>
            <p>Has conocido los fundamentos de la desparasitación natural. Ahora puedes explorar protocolos más detallados y recetas tradicionales de América Latina que han sido utilizadas por generaciones.</p>
        </div>

        <div class="features-grid">
            <div class="feature-item">
                <h3>📚 Protocolos Específicos</h3>
                <p>Enfoques personalizados según diferentes tipos de parásitos con cronogramas detallados</p>
            </div>
            <div class="feature-item">
                <h3>🌱 25+ Recetas Tradicionales</h3>
                <p>Preparaciones ancestrales documentadas con métodos paso a paso</p>
            </div>
            <div class="feature-item">
                <h3>🍃 15 Plantas Adicionales</h3>
                <p>Nuevas plantas medicinales con propiedades antiparasitarias y métodos de cultivo</p>
            </div>
            <div class="feature-item">
                <h3>🥗 Alimentación Terapéutica</h3>
                <p>Planes alimentarios y recetas que potencian el proceso de desintoxicación natural</p>
            </div>
        </div>

        <div class="content-section">
            <h2>Qué Incluye Esta Guía Complementaria:</h2>
            <ul style="margin-left: 20px; color: #555;">
                <li>✅ Guía digital de 120 páginas en PDF</li>
                <li>✅ 10 videos explicativos (45 minutos total)</li>
                <li>✅ Lista de verificación imprimible</li>
                <li>✅ Directorio de proveedores confiables</li>
                <li>✅ Acceso a grupo de intercambio de experiencias</li>
            </ul>
        </div>

        <div class="price-section">
            <h3>Inversión en Conocimiento Ancestral</h3>
            <div class="original-price">Valor regular: $47 USD</div>
            <div class="current-price">$7,94 USD</div>
            <p style="font-size: 0.9rem; opacity: 0.9;">Una sola vez • Acceso inmediato</p>
        </div>

        <div class="buttons-container">
            <a href="https://boasalud.mycartpanda.com/ex-ocu/next-offer/69YNaedVX7?accepted=yes" class="desktop-btn btn-accept">
                ✅ SÍ, QUIERO ACCEDER AHORA
            </a>
            <a href="https://boasalud.mycartpanda.com/ex-ocu/next-offer/69YNaedVX7?accepted=no" class="desktop-btn btn-decline">
                ❌ No gracias, continuar
            </a>
        </div>

        <div class="disclaimer">
            <strong>Nota importante:</strong> Esta información complementaria está basada en tradiciones ancestrales y estudios etnobotánicos. No sustituye el consejo médico profesional. Consulta siempre con un profesional de la salud antes de iniciar cualquier protocolo.
        </div>
    </div>

    <script src="https://assets.mycartpanda.com/cartx-ecomm-ui-assets/js/libs/ocu-external.js"></script>
    <script>
        new OcuExternal();
    </script>
</div>

</body>
</html>
